<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/png" sizes="96x96" href="/assets/favicon/favicon-96x96.png" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon/favicon.svg" />
    <link rel="shortcut icon" href="/assets/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png" />
    <link rel="manifest" href="/assets/favicon/site.webmanifest" />
    <title>Viva Transfer 1.1 | Prototipo Viva</title>
    <link rel="stylesheet" href="../assets/css/global.css" />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
<div class="viva-transfer-page">
  <header class="top-header">
    <div class="container top-header-row">
      <nav class="top-links" aria-label="Navegación superior principal">
        <button type="button" class="ghost-link">Reservar</button>
        <button type="button" class="ghost-link">Información</button>
        <button type="button" class="ghost-link">Doters</button>
        <a href="../booking/" class="ghost-link is-link">Mi Reserva</a>
      </nav>
      <nav class="top-links right" aria-label="Utilidades superiores">
        <button type="button" class="ghost-link">Estatus de vuelo</button>
        <button type="button" class="ghost-link">Promociones</button>
        <button type="button" class="icon-btn" aria-label="Buscar"></button>
        <button type="button" class="ghost-link">MXN</button>
        <a href="../iniciar-sesion/" class="session-btn">Iniciar sesión</a>
      </nav>
    </div>
  </header>

  <header class="main-header">
    <div class="container main-header-row">
      <div class="brand-block">
        <button type="button" class="profile-btn" aria-label="Perfil"></button>
        <div>
          <a href="../" class="logo">VIVA AEROBUS</a>
          <p class="logo-sub">Servicios adicionales</p>
        </div>
      </div>
      <div class="main-actions">
        <a href="../crear-cuenta/" class="secondary-btn">Crear cuenta</a>
        <a href="../cart/" class="secondary-btn">Carrito</a>
        <a href="../booking/" class="primary-btn">Mi reserva</a>
      </div>
    </div>
  </header>

  <div class="viva-progress-bar">
    <div class="viva-progress-container">
      <div class="viva-progress-steps">
        <div class="viva-step is-done"><div class="viva-step-number">1</div><span class="viva-step-label">Vuelos</span></div>
        <div class="viva-step-line"></div>
        <div class="viva-step is-done"><div class="viva-step-number">2</div><span class="viva-step-label">Combos</span></div>
        <div class="viva-step-line"></div>
        <div class="viva-step is-done"><div class="viva-step-number">3</div><span class="viva-step-label">Pasajeros</span></div>
        <div class="viva-step-line"></div>
        <div class="viva-step is-done"><div class="viva-step-number">4</div><span class="viva-step-label">Adicionales</span></div>
        <div class="viva-step-line"></div>
        <div class="viva-step is-active"><div class="viva-step-number">5.5</div><span class="viva-step-label" id="progress-service-label">Transfer</span></div>
        <div class="viva-step-line"></div>
        <div class="viva-step"><div class="viva-step-number">6</div><span class="viva-step-label">Pagos</span></div>
      </div>
    </div>
  </div>

  <main class="transfer-shell">
    <div class="transfer-scale-host" id="transferScaleHost">
<div class="viva-transfer-1-1" id="transferCanvas">
  <div class="rectangle-43"></div>
  <div class="viva-transfer">Viva Transfer</div>
  <div class="conectividad-para-tu-viaje">Conectividad para tu viaje</div>
  <div
    class="viaja-c-modamente-en-nuestro-servicio-compartido-para-llegar-hasta-tu-destino"
  >
    Viaja cómodamente en nuestro servicio compartido para llegar hasta tu
    destino
  </div>
  <div class="selecci-n-de-asiento">Selección de asiento</div>
  <div class="rectangle-60"></div>
  <div class="traslado-terrestre">Traslado terrestre</div>
  <div class="rectangle-61"></div>
  <div class="ciudad-de-m-xico">Ciudad de México</div>
  <div class="canc-n">Cancún</div>
  <div class="seleccionar">Seleccionar</div>
  <div class="seleccionar2">Seleccionar</div>
  <div class="ellipse-70"></div>
  <div class="mex-cun">MEX-CUN</div>
  <div class="mex-cun2">MEX-CUN</div>
  <div class="cun-mex">CUN-MEX</div>
  <div class="cun-mex2">CUN-MEX</div>
  <div class="line-7"></div>
  <div class="line-11"></div>
  <div class="line-8"></div>
  <div class="line-12"></div>
  <div class="rectangle-62"></div>
  <div class="rectangle-87"></div>
  <div class="rectangle-63"></div>
  <div class="rectangle-88"></div>
  <div class="tu-nombre">Tu nombre</div>
  <div class="tu-nombre2">Tu nombre</div>
  <img class="rectangle-85" src="../assets/img/rectangle-850.svg" />
  <img class="rectangle-89" src="../assets/img/rectangle-890.svg" />
  <div class="seleccionemos-el-mejor-asiento-para-ti">
    Seleccionemos el mejor asiento para ti
  </div>
  <div class="seleccionemos-el-mejor-asiento-para-ti2">
    Seleccionemos el mejor asiento para ti
  </div>
  <div class="rectangle-115"></div>
  <div class="rectangle-64"></div>
  <div class="rectangle-65"></div>
  <div class="rectangle-642"></div>
  <div class="rectangle-652"></div>
  <div class="line-9"></div>
  <div class="line-13"></div>
  <div class="rectangle-66"></div>
  <div class="rectangle-67"></div>
  <div class="rectangle-68"></div>
  <div class="rectangle-662"></div>
  <div class="rectangle-672"></div>
  <div class="rectangle-682"></div>
  <div class="rectangle-78"></div>
  <div class="group-50">
    <div class="rectangle-69"></div>
    <div class="_17">17</div>
  </div>
  <div class="group-51">
    <div class="rectangle-70"></div>
    <div class="_18">18</div>
  </div>
  <div class="group-52">
    <div class="rectangle-71"></div>
    <div class="_19">19</div>
  </div>
  <div class="group-53">
    <div class="rectangle-72"></div>
    <div class="_20">20</div>
  </div>
  <div class="group-54">
    <div class="rectangle-73"></div>
    <div class="_21">21</div>
  </div>
  <div class="group-60">
    <div class="rectangle-77"></div>
    <div class="_212">21</div>
  </div>
  <div class="group-64">
    <div class="rectangle-81"></div>
    <div class="_25">25</div>
  </div>
  <div class="group-56">
    <div class="rectangle-75"></div>
    <div class="_22">22</div>
  </div>
  <div class="group-61">
    <div class="rectangle-79"></div>
    <div class="_222">22</div>
  </div>
  <div class="group-65">
    <div class="rectangle-83"></div>
    <div class="_26">26</div>
  </div>
  <div class="group-55">
    <div class="rectangle-74"></div>
    <div class="_23">23</div>
  </div>
  <div class="group-62">
    <div class="_232">23</div>
  </div>
  <div class="group-66">
    <div class="rectangle-82"></div>
    <div class="_27">27</div>
  </div>
  <div class="group-57">
    <div class="rectangle-76"></div>
    <div class="_24">24</div>
  </div>
  <div class="group-63">
    <div class="rectangle-80"></div>
    <div class="_242">24</div>
  </div>
  <div class="group-67">
    <div class="rectangle-84"></div>
    <div class="_28">28</div>
  </div>
  <div class="rectangle-782"></div>
  <div class="group-50">
    <div class="rectangle-692"></div>
    <div class="_172">17</div>
  </div>
  <div class="group-51">
    <div class="rectangle-702"></div>
    <div class="_182">18</div>
  </div>
  <div class="group-52">
    <div class="rectangle-712"></div>
    <div class="_192">19</div>
  </div>
  <div class="group-53">
    <div class="rectangle-722"></div>
    <div class="_202">20</div>
  </div>
  <div class="group-54">
    <div class="rectangle-732"></div>
    <div class="_213">21</div>
  </div>
  <div class="group-60">
    <div class="rectangle-772"></div>
    <div class="_214">21</div>
  </div>
  <div class="group-64">
    <div class="rectangle-812"></div>
    <div class="_252">25</div>
  </div>
  <div class="group-56">
    <div class="rectangle-752"></div>
    <div class="_223">22</div>
  </div>
  <div class="group-61">
    <div class="rectangle-792"></div>
    <div class="_224">22</div>
  </div>
  <div class="group-65">
    <div class="rectangle-832"></div>
    <div class="_262">26</div>
  </div>
  <div class="group-55">
    <div class="rectangle-742"></div>
    <div class="_233">23</div>
  </div>
  <div class="group-62">
    <div class="_234">23</div>
  </div>
  <div class="group-66">
    <div class="rectangle-822"></div>
    <div class="_272">27</div>
  </div>
  <div class="group-57">
    <div class="rectangle-762"></div>
    <div class="_243">24</div>
  </div>
  <div class="group-63">
    <div class="rectangle-802"></div>
    <div class="_244">24</div>
  </div>
  <div class="group-67">
    <div class="rectangle-842"></div>
    <div class="_282">28</div>
  </div>
  <div class="group-69">
    <div class="rectangle-693"></div>
    <div class="_29">29</div>
  </div>
  <div class="group-73">
    <div class="rectangle-733"></div>
    <div class="_33">33</div>
  </div>
  <div class="group-77">
    <div class="rectangle-773"></div>
    <div class="_37">37</div>
  </div>
  <div class="group-81">
    <div class="rectangle-813"></div>
    <div class="_41">41</div>
  </div>
  <div class="group-70">
    <div class="rectangle-703"></div>
    <div class="_30">30</div>
  </div>
  <div class="group-74">
    <div class="rectangle-753"></div>
    <div class="_34">34</div>
  </div>
  <div class="group-78">
    <div class="rectangle-793"></div>
    <div class="_38">38</div>
  </div>
  <div class="group-82">
    <div class="rectangle-833"></div>
    <div class="_42">42</div>
  </div>
  <div class="group-71">
    <div class="rectangle-713"></div>
    <div class="_31">31</div>
  </div>
  <div class="group-75">
    <div class="rectangle-743"></div>
    <div class="_35">35</div>
  </div>
  <div class="group-79">
    <div class="rectangle-783"></div>
    <div class="_39">39</div>
  </div>
  <div class="group-72">
    <div class="rectangle-723"></div>
    <div class="_32">32</div>
  </div>
  <div class="group-76">
    <div class="rectangle-763"></div>
    <div class="_36">36</div>
  </div>
  <div class="group-80">
    <div class="rectangle-803"></div>
    <div class="_40">40</div>
  </div>
  <div class="group-69">
    <div class="rectangle-694"></div>
    <div class="_292">29</div>
  </div>
  <div class="group-73">
    <div class="rectangle-734"></div>
    <div class="_332">33</div>
  </div>
  <div class="group-77">
    <div class="rectangle-774"></div>
    <div class="_372">37</div>
  </div>
  <div class="group-81">
    <div class="rectangle-814"></div>
    <div class="_412">41</div>
  </div>
  <div class="group-70">
    <div class="rectangle-704"></div>
    <div class="_302">30</div>
  </div>
  <div class="group-74">
    <div class="rectangle-754"></div>
    <div class="_342">34</div>
  </div>
  <div class="group-78">
    <div class="rectangle-794"></div>
    <div class="_382">38</div>
  </div>
  <div class="group-82">
    <div class="rectangle-834"></div>
    <div class="_422">42</div>
  </div>
  <div class="group-71">
    <div class="rectangle-714"></div>
    <div class="_312">31</div>
  </div>
  <div class="group-75">
    <div class="rectangle-744"></div>
    <div class="_352">35</div>
  </div>
  <div class="group-79">
    <div class="rectangle-784"></div>
    <div class="_392">39</div>
  </div>
  <div class="group-72">
    <div class="rectangle-724"></div>
    <div class="_322">32</div>
  </div>
  <div class="group-76">
    <div class="rectangle-764"></div>
    <div class="_362">36</div>
  </div>
  <div class="group-80">
    <div class="rectangle-804"></div>
    <div class="_402">40</div>
  </div>
  <div class="group-34"><div class="rectangle-695"></div><div class="_1">1</div></div>
  <div class="group-38"><div class="rectangle-735"></div><div class="_5">5</div></div>
  <div class="group-43"><div class="rectangle-775"></div><div class="_9">9</div></div>
  <div class="group-42"><div class="rectangle-815"></div><div class="_13">13</div></div>
  <div class="group-36"><div class="rectangle-715"></div><div class="_3">3</div></div>
  <div class="group-40"><div class="rectangle-745"></div><div class="_7">7</div></div>
  <div class="group-35"><div class="rectangle-705"></div><div class="_2">2</div></div>
  <div class="group-39"><div class="rectangle-755"></div><div class="_6">6</div></div>
  <div class="group-44"><div class="rectangle-795"></div><div class="_10">10</div></div>
  <div class="group-47"><div class="rectangle-835"></div><div class="_14">14</div></div>
  <div class="group-45"><div class="rectangle-785"></div><div class="_11">11</div></div>
  <div class="group-48"><div class="rectangle-823"></div><div class="_15">15</div></div>
  <div class="group-46"><div class="rectangle-805"></div><div class="_12">12</div></div>
  <div class="group-49"><div class="rectangle-843"></div><div class="_16">16</div></div>
  <div class="group-37"><div class="rectangle-725"></div><div class="_4">4</div></div>
  <div class="group-41"><div class="rectangle-765"></div><div class="_8">8</div></div>
  <div class="group-34"><div class="rectangle-696"></div><div class="_110">1</div></div>
  <div class="group-38"><div class="rectangle-736"></div><div class="_52">5</div></div>
  <div class="group-43"><div class="rectangle-776"></div><div class="_92">9</div></div>
  <div class="group-42"><div class="rectangle-816"></div><div class="_132">13</div></div>
  <div class="group-36"><div class="rectangle-716"></div><div class="_310">3</div></div>
  <div class="group-40"><div class="rectangle-746"></div><div class="_72">7</div></div>
  <div class="group-35"><div class="rectangle-706"></div><div class="_210">2</div></div>
  <div class="group-39"><div class="rectangle-756"></div><div class="_62">6</div></div>
  <div class="group-44"><div class="rectangle-796"></div><div class="_102">10</div></div>
  <div class="group-47"><div class="rectangle-836"></div><div class="_142">14</div></div>
  <div class="group-45"><div class="rectangle-786"></div><div class="_112">11</div></div>
  <div class="group-48"><div class="rectangle-824"></div><div class="_152">15</div></div>
  <div class="group-46"><div class="rectangle-806"></div><div class="_122">12</div></div>
  <div class="group-49"><div class="rectangle-844"></div><div class="_162">16</div></div>
  <div class="group-37"><div class="rectangle-726"></div><div class="_43">4</div></div>
  <div class="group-41"><div class="rectangle-766"></div><div class="_82">8</div></div>
  <div class="toilet"></div>
  <div class="toilet2">Toilet</div>
  <div class="toilet3"></div>
  <div class="toilet4">Toilet</div>
  <div class="rectangle-86"></div>
  <div class="rectangle-90"></div>
  <div class="despreoc-pate-por-elegir">Despreocúpate por elegir</div>
  <div class="despreoc-pate-por-elegir2">Despreocúpate por elegir</div>
  <div class="line-10"></div>
  <div class="line-14"></div>
  <div class="zona-12">Zona 1</div>
  <div class="mayor-espacio-al-viajar">Mayor espacio al viajar.</div>
  <div class="zona-13">Zona 1</div>
  <button type="button" class="rectangle-872 seat-choice" data-seat-group="return" data-seat-option="zona-1" aria-label="Seleccionar Zona 1 regreso"></button>
  <div class="mayor-espacio-al-viajar2">Mayor espacio al viajar.</div>
  <div class="zona-22">Zona 2</div>
  <div class="asiento-regular-que-m-s-te-guste">Asiento regular que más te guste</div>
  <div class="zona-23">Zona 2</div>
  <button type="button" class="rectangle-882 seat-choice" data-seat-group="return" data-seat-option="zona-2" aria-label="Seleccionar Zona 2 regreso"></button>
  <div class="asiento-regular-que-m-s-te-guste2">Asiento regular que más te guste</div>
  <div class="zona-32">Zona 3</div>
  <div class="asientos-en-las-primeras-filas-de-avi-n-con-abordaje-prioritario-y-m-s-espacio">Asientos en las primeras filas de avión, con abordaje prioritario y más espacio.</div>
  <div class="zona-33">Zona 3</div>
  <button type="button" class="rectangle-892 seat-choice" data-seat-group="return" data-seat-option="zona-3" aria-label="Seleccionar Zona 3 regreso"></button>
  <div class="asientos-en-las-primeras-filas-de-avi-n-con-abordaje-prioritario-y-m-s-espacio2">Asientos en las primeras filas de avión, con abordaje prioritario y más espacio.</div>
  <div class="cambiar-asientos">Cambiar asientos</div>
  <div class="cambiar-asientos2">Cambiar asientos</div>
  <div class="rectangle-902"></div>
  <div class="aceptar">Aceptar</div>
  <div class="rectangle-903"></div>
  <div class="aceptar2">Aceptar</div>
  <div class="elige-tu-asiento-sin-costo-beneficio-v-lido-solo-para-los-nuevos-usuarios-beneficio-v-lido-para-titulares-de-la-tarjeta-hsbc-viva-plus">Elige tu asiento sin costo.<br />Beneficio válido solo para los nuevos usuarios.<br />Beneficio válido para titulares de la tarjeta HSBC Viva Plus.</div>
  <div class="elige-tu-asiento-sin-costo-beneficio-v-lido-solo-para-los-nuevos-usuarios-beneficio-v-lido-para-titulares-de-la-tarjeta-hsbc-viva-plus2">Elige tu asiento sin costo.<br />Beneficio válido solo para los nuevos usuarios.<br />Beneficio válido para titulares de la tarjeta HSBC Viva Plus.</div>
  <label class="rectangle-91 seat-switch" aria-label="Asignación automática de asiento salida">
    <input type="checkbox" class="auto-seat-switch" id="auto-seat-switch-1" />
    <span class="ellipse-71"></span>
  </label>
  <label class="rectangle-912 seat-switch" aria-label="Asignación automática de asiento regreso">
    <input type="checkbox" class="auto-seat-switch" id="auto-seat-switch-2" />
    <span class="ellipse-712"></span>
  </label>
  <a class="regreso" href="../asientos/" aria-label="Regresar">
    <span class="ellipse-2"></span>
    <img class="flecha-pequena" src="../assets/img/flecha-pequena-izquierda-3-1.png" alt="Regresar" />
  </a>
  <div class="continuar" id="continue-btn"><div class="rectangle-14"></div><div class="continuar2">Continuar</div></div>
  <div class="cuadro-gris"><button type="button" class="rectangle-50 seat-choice" data-seat-group="outbound" data-seat-option="zona-1" aria-label="Seleccionar Zona 1 ida"></button></div>
  <div class="cuadro-gris2"><button type="button" class="rectangle-50 seat-choice" data-seat-group="outbound" data-seat-option="zona-2" aria-label="Seleccionar Zona 2 ida"></button></div>
  <div class="cuadro-gris3"><button type="button" class="rectangle-50 seat-choice" data-seat-group="outbound" data-seat-option="zona-3" aria-label="Seleccionar Zona 3 ida"></button></div>
</div>
    </div>
  </main>
</div>

<script>
  (function () {
    const baseWidth = 1440;
    const baseHeight = 4592;
    const host = document.getElementById('transferScaleHost');
    const canvas = document.getElementById('transferCanvas');

    function applyResponsiveScale() {
      if (!host || !canvas) {
        return;
      }

      const availableWidth = Math.max(320, window.innerWidth - 80);
      const scale = Math.min(1, availableWidth / baseWidth);
      host.style.width = `${Math.round(baseWidth * scale)}px`;
      host.style.height = `${Math.round(baseHeight * scale)}px`;
      canvas.style.transform = `scale(${scale})`;
    }

    function readOrder() {
      try {
        const raw = sessionStorage.getItem('flightCartOrder');
        return raw ? JSON.parse(raw) : {};
      } catch (_error) {
        return {};
      }
    }

    function writeOrder(order) {
      try {
        sessionStorage.setItem('flightCartOrder', JSON.stringify(order));
      } catch (_error) {
      }
    }

    const order = readOrder();
    const service = String(order?.intermodal?.service || '').toLowerCase() === 'bus' ? 'bus' : 'transfer';
    const serviceTitle = service === 'bus' ? 'Viva Bus' : 'Viva Transfer';

    document.title = `${serviceTitle} 1.1 | Prototipo Viva`;
    const titleNode = document.querySelector('.viva-transfer');
    if (titleNode) titleNode.textContent = serviceTitle;
    const progressServiceNode = document.getElementById('progress-service-label');
    if (progressServiceNode) progressServiceNode.textContent = service === 'bus' ? 'Bus' : 'Transfer';

    const switchNodes = Array.from(document.querySelectorAll('.auto-seat-switch'));
    const seatChoiceNodes = Array.from(document.querySelectorAll('.seat-choice'));
    const continueNode = document.getElementById('continue-btn');

    let seatChoice = order?.intermodalSeats?.choice || null;
    let selectedSeatZones = {
      outbound: order?.intermodalSeats?.selectedZones?.outbound || order?.intermodalSeats?.selectedZone || null,
      return: order?.intermodalSeats?.selectedZones?.return || null,
    };
    let autoSeat = Boolean(order?.intermodalSeats?.autoAssign);

    switchNodes.forEach((node) => {
      node.checked = autoSeat;
      const switchWrapper = node.closest('.seat-switch');
      if (switchWrapper) {
        switchWrapper.classList.toggle('is-on', autoSeat);
      }
    });

    function renderSeatSelection() {
      seatChoiceNodes.forEach((node) => {
        const group = node.dataset.seatGroup || 'outbound';
        const isSelected = node.dataset.seatOption === selectedSeatZones[group];
        node.classList.toggle('is-selected', isSelected);
        node.textContent = isSelected ? '✓' : '';
      });
    }

    function setContinueEnabled() {
      if (!continueNode) {
        return;
      }

      const hasAnyZone = Boolean(selectedSeatZones.outbound || selectedSeatZones.return);
      const canContinue = autoSeat || hasAnyZone || seatChoice === 'no';
      continueNode.classList.toggle('is-disabled', !canContinue);
      continueNode.setAttribute('aria-disabled', String(!canContinue));
    }

    const markChoice = (choice) => {
      seatChoice = choice;
      const newOrder = readOrder();
      newOrder.intermodalSeats = {
        service,
        choice,
        autoAssign: autoSeat,
        selectedZone: selectedSeatZones.outbound || selectedSeatZones.return || null,
        selectedZones: {
          outbound: selectedSeatZones.outbound,
          return: selectedSeatZones.return,
        },
        skipped: choice === 'no',
        updatedAt: new Date().toISOString(),
      };
      writeOrder(newOrder);
      setContinueEnabled();
    };

    const continueToPayment = () => {
      const blocked = continueNode && continueNode.getAttribute('aria-disabled') === 'true';
      if (blocked) {
        return;
      }

      if (!seatChoice) {
        markChoice(autoSeat ? 'no' : 'yes');
      }
      window.location.href = '../pago-1-0/';
    };

    const selectableNodes = ['.continuar', '.aceptar', '.aceptar2', '.cambiar-asientos', '.cambiar-asientos2'];
    selectableNodes.forEach((selector) => {
      document.querySelectorAll(selector).forEach((node) => {
        node.style.cursor = 'pointer';
      });
    });

    document.querySelectorAll('.cambiar-asientos, .cambiar-asientos2, .aceptar, .aceptar2').forEach((node) => {
      node.addEventListener('click', () => markChoice('yes'));
    });

    if (continueNode) {
      continueNode.setAttribute('role', 'button');
      continueNode.setAttribute('tabindex', '0');
      continueNode.addEventListener('click', continueToPayment);
      continueNode.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          continueToPayment();
        }
      });
    }

    switchNodes.forEach((node) => {
      node.addEventListener('change', () => {
        autoSeat = node.checked;
        switchNodes.forEach((otherNode) => {
          if (otherNode !== node) {
            otherNode.checked = autoSeat;
          }

          const switchWrapper = otherNode.closest('.seat-switch');
          if (switchWrapper) {
            switchWrapper.classList.toggle('is-on', autoSeat);
          }
        });

        const switchWrapper = node.closest('.seat-switch');
        if (switchWrapper) {
          switchWrapper.classList.toggle('is-on', autoSeat);
        }
        markChoice(autoSeat ? 'no' : seatChoice || 'yes');
      });
    });

    seatChoiceNodes.forEach((node) => {
      node.addEventListener('click', (event) => {
        event.stopPropagation();
        const group = node.dataset.seatGroup || 'outbound';
        selectedSeatZones[group] = node.dataset.seatOption;
        seatChoice = 'yes';
        renderSeatSelection();
        markChoice('yes');
      });
    });

    renderSeatSelection();
    setContinueEnabled();
    applyResponsiveScale();
    window.addEventListener('resize', applyResponsiveScale);
  })();
</script>
  </body>
</html>
