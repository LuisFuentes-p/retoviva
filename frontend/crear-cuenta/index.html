<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/png" sizes="96x96" href="/assets/favicon/favicon-96x96.png" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon/favicon.svg" />
    <link rel="shortcut icon" href="/assets/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png" />
    <link rel="manifest" href="/assets/favicon/site.webmanifest" />
    <title>Crear cuenta | Viva Aerobus</title>
    <link rel="stylesheet" href="../assets/css/global.css" />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <!-- Header superior -->
    <header class="top-header">
      <div class="container top-header-row">
        <nav class="top-links" aria-label="Navegación superior principal">
          <button type="button" class="ghost-link">Reservar</button>
          <button type="button" class="ghost-link">Información</button>
          <button type="button" class="ghost-link">Doters</button>
          <a href="../booking/" class="ghost-link is-link">Mi Reserva</a>
        </nav>
        <nav class="top-links right" aria-label="Utilidades superiores">
          <button type="button" class="ghost-link">Estatus de vuelo</button>
          <button type="button" class="ghost-link">Promociones</button>
          <button type="button" class="icon-btn" aria-label="Buscar"></button>
          <button type="button" class="ghost-link">MXN</button>
          <a href="../iniciar-sesion/" class="session-btn">Iniciar sesión</a>
        </nav>
      </div>
    </header>

    <!-- Header principal -->
    <header class="main-header">
      <div class="container main-header-row">
        <div class="brand-block">
          <button type="button" class="profile-btn" aria-label="Perfil"></button>
          <div>
            <a href="../" class="logo">VIVA AEROBUS</a>
            <p class="logo-sub">Crear cuenta</p>
          </div>
        </div>
        <div class="main-actions">
          <a href="../iniciar-sesion/" class="secondary-btn">Iniciar sesión</a>
          <a href="../pantalla-principal/" class="primary-btn">Reservar ahora</a>
        </div>
      </div>
    </header>

    <div class="main-container">
      <div class="page-section">
        <div class="registro-box">
          <h1 class="page-title">Crear cuenta</h1>
          <p class="page-subtitle">Regístrate, ingresa todos tus datos y descubre la mejor forma de viajar</p>

          <!-- Información Personal -->
          <div class="form-section">
            <h2 class="section-title">Información personal</h2>
            <div class="form-row">
              <div class="form-group">
                <label>Nombre (s)</label>
                <input type="text" placeholder="Nombre completo" />
              </div>
              <div class="form-group">
                <label>Apellidos</label>
                <input type="text" placeholder="Apellido completo" />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label>Fecha de nacimiento</label>
                <input type="text" placeholder="DD/MM/AAAA" />
              </div>
            </div>
          </div>

          <!-- Información de Contacto -->
          <div class="form-section">
            <h2 class="section-title">Información de contacto</h2>
            <div class="form-row">
              <div class="form-group">
                <label>Email</label>
                <input type="email" placeholder="tucorreo@gmail.com" />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label>Celular</label>
                <div class="phone-input">
                  <span class="phone-code">+52</span>
                  <input type="text" placeholder="Celular" />
                </div>
              </div>
            </div>
          </div>

          <!-- Contraseña -->
          <div class="form-section">
            <h2 class="section-title">Contraseña</h2>
            <div class="form-row">
              <div class="form-group">
                <label>Contraseña</label>
                <input type="password" placeholder="Ingresa tu contraseña" />
              </div>
              <div class="form-group">
                <label>Confirma tu contraseña</label>
                <input type="password" placeholder="Confirma contraseña" />
              </div>
            </div>

            <!-- Requisitos -->
            <div class="requisitos-container">
              <div class="requisito-group">
                <div class="requisito-item">
                  <span class="requisito-circle"></span>
                  <span>Al menos una letra mayúscula</span>
                </div>
                <div class="requisito-item">
                  <span class="requisito-circle"></span>
                  <span>Al menos una letra minúscula</span>
                </div>
                <div class="requisito-item">
                  <span class="requisito-circle"></span>
                  <span>Al menos un número (0-9)</span>
                </div>
              </div>
              <div class="requisito-group">
                <div class="requisito-item">
                  <span class="requisito-circle"></span>
                  <span>Mínimo 8 caracteres y máximo 16</span>
                </div>
                <div class="requisito-item">
                  <span class="requisito-circle"></span>
                  <span>Un carácter no alfanumérico excepto .,¨'[]"()</span>
                </div>
                <div class="requisito-item">
                  <span class="requisito-circle"></span>
                  <span>Las contraseñas coinciden</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Términos y condiciones -->
          <div class="terms-section">
            <label class="checkbox-term">
              <input type="checkbox" />
              <span>Al crear una cuenta estás aceptando los <strong>Términos y Condiciones</strong> para que Viva utilice tu información según lo establecido en nuestra <strong>Política de privacidad</strong>; así como los <strong>Términos y Condiciones</strong> y <strong>Política de privacidad</strong> de Doters.</span>
            </label>
          </div>

          <!-- Beneficios -->
          <div class="beneficios">
            <h3><span class="benefit-title">Crea una cuenta</span> para obtener los mejores beneficios</h3>
            <ul>
              <li>Registra a tus compañeros</li>
              <li>Reserva tus vuelos más rápido</li>
              <li>Mantén la tarifa preferencial</li>
              <li>Gana Puntos Doters</li>
            </ul>
          </div>

          <!-- Botones -->
          <div class="actions">
            <button type="button" class="btn-crear-cuenta">Crear cuenta</button>
          </div>

          <!-- Link login -->
          <p class="login-link">
            ¿Ya tienes una cuenta? <a href="../iniciar-sesion/">Inicia sesión</a>
          </p>

          <!-- Regresar -->
          <div class="footer-actions">
            <button type="button" class="btn-regresar">Regresar a mi compra</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      function resolvePostAuthRedirect() {
        const fallback = '../pantalla-principal/';
        const blockedPaths = ['/iniciar-sesion/', '/crear-cuenta/'];

        function sanitize(candidate) {
          if (!candidate) return null;

          try {
            const target = new URL(candidate, window.location.origin);
            if (target.origin !== window.location.origin) return null;
            if (blockedPaths.some((path) => target.pathname.includes(path))) return null;
            return `${target.pathname}${target.search}${target.hash}`;
          } catch (error) {
            return null;
          }
        }

        try {
          const current = new URL(window.location.href);
          const fromParam = current.searchParams.get('redirect');
          const fromStorage = sessionStorage.getItem('postAuthRedirect');
          const fromReferrer = document.referrer;

          const target =
            sanitize(fromParam) ||
            sanitize(fromStorage) ||
            sanitize(fromReferrer) ||
            fallback;

          sessionStorage.removeItem('postAuthRedirect');
          return target;
        } catch (error) {
          return fallback;
        }
      }

      document.addEventListener('click', function (e) {
        const crearBtn = e.target.closest('.btn-crear-cuenta');
        if (crearBtn) {
          alert('¡Cuenta creada exitosamente!');
          window.location.href = resolvePostAuthRedirect();
        }

        const regresarBtn = e.target.closest('.btn-regresar');
        if (regresarBtn) {
          window.location.href = resolvePostAuthRedirect();
        }
      });
    </script>
  </body>
</html>
          <div class="rectangle-4"></div>
          <div class="text-wrapper-6">Nombre (s)</div>
          <div class="text-wrapper-7">Nombre completo</div>
        </div>
        <div class="group-5">
          <div class="rectangle-4"></div>
          <div class="text-wrapper-10">Apellido completo</div>
          <div class="text-wrapper-11">Apellidos</div>
        </div>
        <div class="group-6">
          <div class="rectangle-4"></div>
          <div class="text-wrapper-7">Ej: DD/MM/AAAA</div>
          <div class="text-wrapper-12">Fecha de nacimiento</div>
        </div>
      </div>
      <div class="informacin-contacto">
        <div class="text-wrapper-5">Información de contacto</div>
        <div class="group-4">
          <div class="rectangle-4"></div>
          <div class="text-wrapper-6">Email</div>
          <div class="text-wrapper-7">Ej: tucorreo@gmail.com</div>
        </div>
        <div class="group-5">
          <div class="rectangle-4"></div>
          <div class="text-wrapper-13">+52</div>
          <div class="text-wrapper-14">Celular</div>
          <img class="line" src="../assets/img/line-6.svg" />
        </div>
      </div>
      <div class="requisitos">
        <div class="group-7">
          <div class="group-8">
            <div class="ellipse"></div>
            <p class="text-wrapper-15">Al menos una letra mayúscula</p>
          </div>
          <div class="group-9">
            <div class="ellipse"></div>
            <p class="text-wrapper-16">Al menos una letra minússcula</p>
          </div>
          <div class="group-10">
            <div class="ellipse"></div>
            <p class="text-wrapper-17">Al menos un número (0-9)</p>
          </div>
        </div>
        <div class="group-11">
          <div class="group-12">
            <div class="ellipse"></div>
            <p class="text-wrapper-18">Mínimo 8 caracteres y máximo 16</p>
          </div>
          <div class="group-13">
            <div class="ellipse"></div>
            <p class="un-car-cter-no">Un carácter no alfanumérico excepto .,¨’[]{"{"}{"}"}()</p>
          </div>
          <div class="group-14">
            <div class="ellipse"></div>
            <div class="text-wrapper-19">Las contraseñas coinciden</div>
          </div>
        </div>
      </div>
      <p class="ya-tienes-una-cuenta">
        <span class="span">¿Ya tienes una cuenta? </span> <span class="text-wrapper-20">Inicia sesión.</span>
      </p>
      <div class="trminos-y">
        <p class="al-crear-una-cuenta">
          <span class="span">Al crear una cuenta estás aceptando los </span>
          <span class="text-wrapper-21">Términos y Condiciones</span>
          <span class="span"> para que Viva utilice tu información según lo establecido en nuestra </span>
          <span class="text-wrapper-21">Política de privacidad</span>
          <span class="span">; así como los </span>
          <span class="text-wrapper-21">Términos y Condiciones</span>
          <span class="span"> y </span>
          <span class="text-wrapper-21">Política de privacidad</span>
          <span class="span"> de Doters.</span>
        </p>
      </div>
      <p class="crea-una-cuenta-para">
        <span class="text-wrapper-22">Crea una cuenta</span>
        <span class="text-wrapper-23"> para obtener los mejores beneficios</span>
      </p>
      <p class="registra-a-tus-compa">
        Registra a tus compañeros<br />Reserva tus vuelos más rápido<br />Mantén la tarifa preferencial<br />Gana Puntos
        Doters
      </p>
    </div>

    <script>
      function resolvePostAuthRedirect() {
        const fallback = '../pantalla-principal/';
        const blockedPaths = ['/iniciar-sesion/', '/crear-cuenta/'];

        function sanitize(candidate) {
          if (!candidate) return null;

          try {
            const target = new URL(candidate, window.location.origin);
            if (target.origin !== window.location.origin) return null;
            if (blockedPaths.some((path) => target.pathname.includes(path))) return null;
            return `${target.pathname}${target.search}${target.hash}`;
          } catch (error) {
            return null;
          }
        }

        try {
          const current = new URL(window.location.href);
          const fromParam = current.searchParams.get('redirect');
          const fromStorage = sessionStorage.getItem('postAuthRedirect');
          const fromReferrer = document.referrer;

          const target =
            sanitize(fromParam) ||
            sanitize(fromStorage) ||
            sanitize(fromReferrer) ||
            fallback;

          sessionStorage.removeItem('postAuthRedirect');
          return target;
        } catch (error) {
          return fallback;
        }
      }

      document.addEventListener('click', function (e) {
        const crearBtn = e.target.closest('.btn-crear-cuenta');
        if (crearBtn) {
          alert('¡Cuenta creada exitosamente!');
          window.location.href = resolvePostAuthRedirect();
        }

        const regresarBtn = e.target.closest('.btn-regresar');
        if (regresarBtn) {
          window.location.href = resolvePostAuthRedirect();
        }
      });
    </script>
  </body>
</html>
