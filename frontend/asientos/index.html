<!doctype html>
<html lang="es">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="icon" type="image/png" sizes="96x96" href="/assets/favicon/favicon-96x96.png" />
		<link rel="icon" type="image/svg+xml" href="/assets/favicon/favicon.svg" />
		<link rel="shortcut icon" href="/assets/favicon/favicon.ico" />
		<link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png" />
		<link rel="manifest" href="/assets/favicon/site.webmanifest" />
		<title>Selecci√≥n de asientos | Viva Aerobus</title>
		<link rel="stylesheet" href="../assets/css/global.css" />
		<link rel="stylesheet" href="./style.css" />
	</head>
	<body>
		<!-- Header superior -->
		<header class="top-header">
			<div class="container top-header-row">
				<nav class="top-links" aria-label="Navegaci√≥n superior principal">
					<button type="button" class="ghost-link">Reservar</button>
					<button type="button" class="ghost-link">Informaci√≥n</button>
					<button type="button" class="ghost-link">Doters</button>
					<a href="../booking/" class="ghost-link is-link">Mi Reserva</a>
				</nav>
				<nav class="top-links right" aria-label="Utilidades superiores">
					<button type="button" class="ghost-link">Estatus de vuelo</button>
					<button type="button" class="ghost-link">Promociones</button>
					<button type="button" class="icon-btn" aria-label="Buscar">üîé</button>
					<button type="button" class="ghost-link">MXN</button>
					<a href="../iniciar-sesion/" class="session-btn">Iniciar sesi√≥n</a>
				</nav>
			</div>
		</header>

		<!-- Header principal -->
		<header class="main-header">
			<div class="container main-header-row">
				<div class="brand-block">
					<button type="button" class="profile-btn" aria-label="Perfil">üë§</button>
					<div>
						<a href="../pantalla-principal/" class="logo">VIVA AEROBUS</a>
						<p class="logo-sub">Selecci√≥n de asientos</p>
					</div>
				</div>
				<div class="main-actions">
					<a href="../crear-cuenta/" class="secondary-btn">Crear cuenta</a>
					<a href="../cart/" class="secondary-btn">Carrito</a>
					<a href="../booking/" class="primary-btn">Mi reserva</a>
				</div>
			</div>
		</header>

		<!-- Barra de progreso -->
		<div class="viva-progress-bar" data-current-step="5">
			<div class="viva-progress-container">
				<div class="viva-progress-steps">
					<div class="viva-step">
						<div class="viva-step-number">1</div>
						<span class="viva-step-label">Vuelos</span>
					</div>
					<div class="viva-step-line"></div>
					<div class="viva-step">
						<div class="viva-step-number">2</div>
						<span class="viva-step-label">Combos</span>
					</div>
					<div class="viva-step-line"></div>
					<div class="viva-step">
						<div class="viva-step-number">3</div>
						<span class="viva-step-label">Pasajeros</span>
					</div>
					<div class="viva-step-line"></div>
					<div class="viva-step">
						<div class="viva-step-number">4</div>
						<span class="viva-step-label">Adicionales</span>
					</div>
					<div class="viva-step-line"></div>
					<div class="viva-step">
						<div class="viva-step-number">5</div>
						<span class="viva-step-label">Asientos</span>
					</div>
					<div class="viva-step-line"></div>
					<div class="viva-step">
						<div class="viva-step-number">6</div>
						<span class="viva-step-label">Pagos</span>
					</div>
				</div>
			</div>
		</div>

		<!-- Contenido principal -->
		<main class="container main-content">
			<div class="seats-layout">
				<!-- Columna izquierda: Mapa de asientos -->
				<div class="seats-map-section">
					<div class="section-header">
						<div>
							<h1 class="page-title">Selecciona tus asientos</h1>
							<p class="page-subtitle">Vuelo de ida: MTY ‚Üí CUN ‚Ä¢ 24 Feb 2026</p>
						</div>
						<button type="button" class="btn-switch-flight" id="switchFlight">
							Cambiar a vuelo de regreso ‚Üí
						</button>
					</div>

					<!-- Leyenda -->
					<div class="legend">
						<div class="legend-item">
							<div class="seat-icon available"></div>
							<span>Disponible</span>
						</div>
						<div class="legend-item">
							<div class="seat-icon selected"></div>
							<span>Seleccionado</span>
						</div>
						<div class="legend-item">
							<div class="seat-icon occupied"></div>
							<span>Ocupado</span>
						</div>
						<div class="legend-item">
							<div class="seat-icon premium"></div>
							<span>Premium ($200)</span>
						</div>
						<div class="legend-item">
							<div class="seat-icon emergency"></div>
							<span>Salida emergencia ($150)</span>
						</div>
					</div>

					<!-- Mapa del avi√≥n -->
					<div class="airplane-container">
						<div class="airplane-header">
							<div class="cockpit">‚úàÔ∏è Cabina</div>
						</div>

						<div class="seats-grid">
							<!-- Fila 1-5: Asientos Premium -->
							<div class="seat-row-group premium-zone">
								<div class="zone-label">Zona Premium</div>
								
								<!-- Fila 1 -->
								<div class="seat-row">
									<span class="row-number">1</span>
									<button class="seat premium" data-seat="1A" data-price="200">A</button>
									<button class="seat premium" data-seat="1B" data-price="200">B</button>
									<button class="seat premium" data-seat="1C" data-price="200">C</button>
									<div class="aisle"></div>
									<button class="seat premium" data-seat="1D" data-price="200">D</button>
									<button class="seat premium" data-seat="1E" data-price="200">E</button>
									<button class="seat premium" data-seat="1F" data-price="200">F</button>
								</div>

								<!-- Fila 2 -->
								<div class="seat-row">
									<span class="row-number">2</span>
									<button class="seat premium" data-seat="2A" data-price="200">A</button>
									<button class="seat premium occupied" data-seat="2B" data-price="200" disabled>B</button>
									<button class="seat premium" data-seat="2C" data-price="200">C</button>
									<div class="aisle"></div>
									<button class="seat premium" data-seat="2D" data-price="200">D</button>
									<button class="seat premium occupied" data-seat="2E" data-price="200" disabled>E</button>
									<button class="seat premium" data-seat="2F" data-price="200">F</button>
								</div>

								<!-- Fila 3 -->
								<div class="seat-row">
									<span class="row-number">3</span>
									<button class="seat premium" data-seat="3A" data-price="200">A</button>
									<button class="seat premium" data-seat="3B" data-price="200">B</button>
									<button class="seat premium" data-seat="3C" data-price="200">C</button>
									<div class="aisle"></div>
									<button class="seat premium occupied" data-seat="3D" data-price="200" disabled>D</button>
									<button class="seat premium" data-seat="3E" data-price="200">E</button>
									<button class="seat premium" data-seat="3F" data-price="200">F</button>
								</div>
							</div>

							<!-- Fila 10: Salida de emergencia -->
							<div class="seat-row-group emergency-zone">
								<div class="zone-label">Salida de emergencia</div>
								
								<div class="seat-row">
									<span class="row-number">10</span>
									<button class="seat emergency" data-seat="10A" data-price="150">A</button>
									<button class="seat emergency" data-seat="10B" data-price="150">B</button>
									<button class="seat emergency occupied" data-seat="10C" data-price="150" disabled>C</button>
									<div class="aisle"></div>
									<button class="seat emergency" data-seat="10D" data-price="150">D</button>
									<button class="seat emergency" data-seat="10E" data-price="150">E</button>
									<button class="seat emergency" data-seat="10F" data-price="150">F</button>
								</div>
							</div>

							<!-- Filas regulares 11-20 -->
							<div class="seat-row-group regular-zone">
								<div class="zone-label">Zona est√°ndar</div>

								<div class="seat-row">
									<span class="row-number">11</span>
									<button class="seat available" data-seat="11A" data-price="0">A</button>
									<button class="seat available occupied" data-seat="11B" data-price="0" disabled>B</button>
									<button class="seat available" data-seat="11C" data-price="0">C</button>
									<div class="aisle"></div>
									<button class="seat available" data-seat="11D" data-price="0">D</button>
									<button class="seat available" data-seat="11E" data-price="0">E</button>
									<button class="seat available occupied" data-seat="11F" data-price="0" disabled>F</button>
								</div>

								<div class="seat-row">
									<span class="row-number">12</span>
									<button class="seat available" data-seat="12A" data-price="0">A</button>
									<button class="seat available" data-seat="12B" data-price="0">B</button>
									<button class="seat available" data-seat="12C" data-price="0">C</button>
									<div class="aisle"></div>
									<button class="seat available occupied" data-seat="12D" data-price="0" disabled>D</button>
									<button class="seat available" data-seat="12E" data-price="0">E</button>
									<button class="seat available" data-seat="12F" data-price="0">F</button>
								</div>

								<div class="seat-row">
									<span class="row-number">13</span>
									<button class="seat available" data-seat="13A" data-price="0">A</button>
									<button class="seat available occupied" data-seat="13B" data-price="0" disabled>B</button>
									<button class="seat available occupied" data-seat="13C" data-price="0" disabled>C</button>
									<div class="aisle"></div>
									<button class="seat available" data-seat="13D" data-price="0">D</button>
									<button class="seat available" data-seat="13E" data-price="0">E</button>
									<button class="seat available" data-seat="13F" data-price="0">F</button>
								</div>

								<div class="seat-row">
									<span class="row-number">14</span>
									<button class="seat available" data-seat="14A" data-price="0">A</button>
									<button class="seat available" data-seat="14B" data-price="0">B</button>
									<button class="seat available" data-seat="14C" data-price="0">C</button>
									<div class="aisle"></div>
									<button class="seat available" data-seat="14D" data-price="0">D</button>
									<button class="seat available occupied" data-seat="14E" data-price="0" disabled>E</button>
									<button class="seat available" data-seat="14F" data-price="0">F</button>
								</div>

								<div class="seat-row">
									<span class="row-number">15</span>
									<button class="seat available" data-seat="15A" data-price="0">A</button>
									<button class="seat available" data-seat="15B" data-price="0">B</button>
									<button class="seat available occupied" data-seat="15C" data-price="0" disabled>C</button>
									<div class="aisle"></div>
									<button class="seat available" data-seat="15D" data-price="0">D</button>
									<button class="seat available" data-seat="15E" data-price="0">E</button>
									<button class="seat available" data-seat="15F" data-price="0">F</button>
								</div>

								<div class="seat-row">
									<span class="row-number">16</span>
									<button class="seat available occupied" data-seat="16A" data-price="0" disabled>A</button>
									<button class="seat available" data-seat="16B" data-price="0">B</button>
									<button class="seat available" data-seat="16C" data-price="0">C</button>
									<div class="aisle"></div>
									<button class="seat available" data-seat="16D" data-price="0">D</button>
									<button class="seat available" data-seat="16E" data-price="0">E</button>
									<button class="seat available" data-seat="16F" data-price="0">F</button>
								</div>

								<div class="seat-row">
									<span class="row-number">17</span>
									<button class="seat available" data-seat="17A" data-price="0">A</button>
									<button class="seat available" data-seat="17B" data-price="0">B</button>
									<button class="seat available" data-seat="17C" data-price="0">C</button>
									<div class="aisle"></div>
									<button class="seat available occupied" data-seat="17D" data-price="0" disabled>D</button>
									<button class="seat available occupied" data-seat="17E" data-price="0" disabled>E</button>
									<button class="seat available" data-seat="17F" data-price="0">F</button>
								</div>

								<div class="seat-row">
									<span class="row-number">18</span>
									<button class="seat available" data-seat="18A" data-price="0">A</button>
									<button class="seat available" data-seat="18B" data-price="0">B</button>
									<button class="seat available" data-seat="18C" data-price="0">C</button>
									<div class="aisle"></div>
									<button class="seat available" data-seat="18D" data-price="0">D</button>
									<button class="seat available" data-seat="18E" data-price="0">E</button>
									<button class="seat available occupied" data-seat="18F" data-price="0" disabled>F</button>
								</div>
							</div>
						</div>
					</div>

					<!-- Informaci√≥n importante -->
					<div class="info-box">
						<h3 class="info-title">üìã Informaci√≥n importante</h3>
						<ul class="info-list">
							<li>Los asientos en fila 1-3 son Premium con espacio adicional para las piernas</li>
							<li>Los asientos en salida de emergencia requieren que cumplas ciertos requisitos de seguridad</li>
							<li>Si no seleccionas asiento, se te asignar√° uno autom√°ticamente sin costo</li>
							<li>Puedes cambiar tu selecci√≥n hasta 3 horas antes del vuelo</li>
						</ul>
					</div>
				</div>

				<!-- Columna derecha: Resumen -->
				<aside class="seats-summary">
					<div class="summary-card">
						<h2 class="summary-title">Tu selecci√≥n</h2>

						<!-- Pasajeros -->
						<div class="passengers-list" id="passengersList">
							<div class="passenger-item">
								<div class="passenger-info">
									<span class="passenger-name">üë§ Adulto 1</span>
									<span class="seat-assigned" id="seat-p1">Sin asiento</span>
								</div>
								<span class="seat-price" id="price-p1">$0.00</span>
							</div>
						</div>

						<div class="summary-section">
							<div class="summary-row">
								<span>Costo total de asientos</span>
								<span class="total-seats" id="totalSeats">$0.00</span>
							</div>
						</div>

						<div class="skip-section">
							<p class="skip-text">¬øNo quieres elegir asiento ahora?</p>
							<button type="button" class="btn-skip" id="skipSeats">
								Omitir selecci√≥n (se asignar√° autom√°ticamente)
							</button>
						</div>

						<div class="summary-actions">
							<a href="../pago-1-0/" class="btn-continue" id="continueBtn">Continuar al pago</a>
							<a href="../adicionales/" class="btn-back">Volver a adicionales</a>
						</div>

						<div class="security-badges">
							<span class="badge">üí∫ Reserva garantizada</span>
							<span class="badge">üîÑ Cambios permitidos</span>
						</div>
					</div>

					<!-- Tips de viaje -->
					<div class="tips-banner">
						<div class="tip-icon">üí°</div>
						<div class="tip-content">
							<h4>Consejo de viaje</h4>
							<p>Los asientos junto a la ventana son ideales para descansar y disfrutar la vista</p>
						</div>
					</div>
				</aside>
			</div>
		</main>

		<!-- Footer -->
		<footer class="main-footer">
			<div class="container">
				<div class="footer-content">
					<div class="footer-col">
						<h4>Viva Aerobus</h4>
						<ul>
							<li><a href="#">Acerca de</a></li>
							<li><a href="#">Sala de prensa</a></li>
							<li><a href="#">Trabaja con nosotros</a></li>
						</ul>
					</div>
					<div class="footer-col">
						<h4>Ayuda</h4>
						<ul>
							<li><a href="#">Centro de ayuda</a></li>
							<li><a href="#">Pol√≠ticas</a></li>
							<li><a href="#">Contacto</a></li>
						</ul>
					</div>
					<div class="footer-col">
						<h4>Legal</h4>
						<ul>
							<li><a href="#">T√©rminos y condiciones</a></li>
							<li><a href="#">Privacidad</a></li>
							<li><a href="#">Cookies</a></li>
						</ul>
					</div>
				</div>
				<div class="footer-bottom">
					<p>&copy; 2026 Viva Aerobus. Prototipo educativo.</p>
				</div>
			</div>
		</footer>

		<script>
			// Estado de la aplicaci√≥n
			let currentFlight = 'outbound'; // 'outbound' o 'return'
			let selectedSeats = {};

			// Selecci√≥n de asientos
			document.querySelectorAll('.seat:not(.occupied)').forEach(seat => {
				seat.addEventListener('click', function() {
					const seatNumber = this.dataset.seat;
					const seatPrice = parseFloat(this.dataset.price);

					// Toggle selecci√≥n
					if (this.classList.contains('selected')) {
						this.classList.remove('selected');
						delete selectedSeats[seatNumber];
					} else {
						// Si ya hay un asiento seleccionado para este pasajero, deseleccionarlo
						const previousSeat = document.querySelector('.seat.selected');
						if (previousSeat) {
							previousSeat.classList.remove('selected');
						}

						this.classList.add('selected');
						selectedSeats[seatNumber] = seatPrice;
					}

					updateSummary();
				});
			});

			// Actualizar resumen
			function updateSummary() {
				const seatNumbers = Object.keys(selectedSeats);
				const total = Object.values(selectedSeats).reduce((sum, price) => sum + price, 0);

				if (seatNumbers.length > 0) {
					document.getElementById('seat-p1').textContent = seatNumbers[0];
					document.getElementById('price-p1').textContent = `$${selectedSeats[seatNumbers[0]].toFixed(2)}`;
				} else {
					document.getElementById('seat-p1').textContent = 'Sin asiento';
					document.getElementById('price-p1').textContent = '$0.00';
				}

				document.getElementById('totalSeats').textContent = `$${total.toFixed(2)}`;
			}

			// Cambiar vuelo
			document.getElementById('switchFlight').addEventListener('click', function() {
				if (currentFlight === 'outbound') {
					currentFlight = 'return';
					document.querySelector('.page-subtitle').textContent = 'Vuelo de regreso: CUN ‚Üí MTY ‚Ä¢ 28 Feb 2026';
					this.textContent = '‚Üê Cambiar a vuelo de ida';
				} else {
					currentFlight = 'outbound';
					document.querySelector('.page-subtitle').textContent = 'Vuelo de ida: MTY ‚Üí CUN ‚Ä¢ 24 Feb 2026';
					this.textContent = 'Cambiar a vuelo de regreso ‚Üí';
				}

				// Limpiar selecciones
				document.querySelectorAll('.seat.selected').forEach(seat => {
					seat.classList.remove('selected');
				});
				selectedSeats = {};
				updateSummary();
			});

			// Omitir selecci√≥n
			document.getElementById('skipSeats').addEventListener('click', function() {
				if (confirm('Se te asignar√° un asiento autom√°ticamente sin costo adicional. ¬øDeseas continuar?')) {
					window.location.href = '../pago-1-0/';
				}
			});

			// Continuar (validar que haya selecci√≥n)
			document.getElementById('continueBtn').addEventListener('click', function(e) {
				if (Object.keys(selectedSeats).length === 0) {
					e.preventDefault();
					if (confirm('No has seleccionado ning√∫n asiento. ¬øDeseas que se te asigne uno autom√°ticamente?')) {
						window.location.href = '../pago-1-0/';
					}
				}
			});
		</script>
	</body>
</html>
